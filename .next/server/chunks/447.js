exports.id=447,exports.ids=[447],exports.modules={6929:(e,t,a)=>{let r={"636e37b96d51317ae5b1270212bc499e1fddb28b":()=>Promise.resolve().then(a.bind(a,2229)).then(e=>e.updateComplaintAction),"998298903baf9762d143374f7ecff409772b57f2":()=>Promise.resolve().then(a.bind(a,2229)).then(e=>e.deleteComplaintAction),"9d39176c87d5a55a2a801870066abbb60034d1e9":()=>Promise.resolve().then(a.bind(a,2229)).then(e=>e.createComplaintAction)};async function o(e,...t){return(await r[e]()).apply(null,t)}e.exports={"636e37b96d51317ae5b1270212bc499e1fddb28b":o.bind(null,"636e37b96d51317ae5b1270212bc499e1fddb28b"),"998298903baf9762d143374f7ecff409772b57f2":o.bind(null,"998298903baf9762d143374f7ecff409772b57f2"),"9d39176c87d5a55a2a801870066abbb60034d1e9":o.bind(null,"9d39176c87d5a55a2a801870066abbb60034d1e9")}},4656:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},6814:(e,t,a)=>{Promise.resolve().then(a.bind(a,4462)),Promise.resolve().then(a.bind(a,422)),Promise.resolve().then(a.bind(a,4690))},4462:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(326),o=a(4690),n=a(5047);function s(){let{currentUser:e,logout:t}=(0,o.a)(),a=(0,n.useRouter)(),s=async()=>{try{await t(),a.push("/login")}catch(e){console.error("Logout failed:",e)}};return r.jsx("div",{children:e?(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontWeight:600,fontSize:"1.1em",marginRight:"1em"},children:e.email||"User"}),r.jsx("button",{className:"btn",onClick:s,children:"Logout"})]}):r.jsx("button",{className:"btn",onClick:()=>a.push("/login"),children:"Login"})})}},1664:(e,t,a)=>{"use strict";a.d(t,{z:()=>n});var r=a(326),o=a(1223);let n=a(7577).forwardRef(({className:e,variant:t="primary",size:a="md",...n},s)=>{let i="";switch(t){case"primary":i="bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-500 text-white shadow-lg rounded-lg hover:from-blue-600 hover:via-pink-600 hover:to-yellow-600";break;case"secondary":i="bg-gradient-to-r from-blue-200 via-pink-200 to-yellow-200 text-blue-900 dark:text-blue-200 rounded-lg hover:from-blue-300 hover:via-pink-300 hover:to-yellow-300";break;case"destructive":i="bg-red-600 text-white rounded-lg hover:bg-red-700";break;case"ghost":i="bg-transparent text-primary hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-lg";break;case"outline":i="border border-blue-400 text-blue-700 dark:text-blue-300 bg-white dark:bg-zinc-900 rounded-lg hover:bg-blue-50 dark:hover:bg-zinc-800";break;default:i=""}let d="";switch(a){case"sm":d="px-3 py-1.5 text-sm";break;case"lg":d="px-6 py-3 text-lg";break;default:d="px-4 py-2 text-base"}return r.jsx("button",{ref:s,className:(0,o.cn)("inline-flex items-center justify-center font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",i,d,e),...n})});n.displayName="Button"},422:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>v});var r=a(326),o=a(7577),n=a(2076),s=a(9360),i=a(4019),d=a(1223);let l=n.zt,c=o.forwardRef(({className:e,...t},a)=>r.jsx(n.l_,{ref:a,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c.displayName=n.l_.displayName;let u=(0,s.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=o.forwardRef(({className:e,variant:t,...a},o)=>r.jsx(n.fC,{ref:o,className:(0,d.cn)(u({variant:t}),e),...a}));m.displayName=n.fC.displayName,o.forwardRef(({className:e,...t},a)=>r.jsx(n.aU,{ref:a,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=n.aU.displayName;let p=o.forwardRef(({className:e,...t},a)=>r.jsx(n.x8,{ref:a,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=n.x8.displayName;let f=o.forwardRef(({className:e,...t},a)=>r.jsx(n.Dx,{ref:a,className:(0,d.cn)("text-sm font-semibold",e),...t}));f.displayName=n.Dx.displayName;let b=o.forwardRef(({className:e,...t},a)=>r.jsx(n.dk,{ref:a,className:(0,d.cn)("text-sm opacity-90",e),...t}));b.displayName=n.dk.displayName;var g=a(4097);function v(){let{toasts:e}=(0,g.p)();return(0,r.jsxs)(l,{children:[e.map(({id:e,title:t,description:a,action:o,variant:n})=>(0,r.jsxs)(m,{variant:n,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&r.jsx(f,{children:t}),a&&r.jsx(b,{children:a})]}),o,r.jsx(p,{})]},e)),r.jsx(c,{})]})}},4690:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>l,a:()=>c});var r=a(326),o=a(7577),n=a(445),s=a(6951);a(76);var i=a(4097);let d=(0,o.createContext)({currentUser:null,loading:!0,logout:async()=>{}});function l({children:e}){let[t,a]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0),{toast:u}=(0,i.p)(),m=async()=>{try{await (0,s.w7)(n.I),a(null),u({title:"Success",description:"Logged out successfully."})}catch(e){throw console.error("Logout error:",e),u({title:"Error",description:"Failed to log out.",variant:"destructive"}),e}};return r.jsx(d.Provider,{value:{currentUser:t,loading:l,logout:m},children:e})}function c(){return(0,o.useContext)(d)}},4097:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(7577);(0,a(9360).j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}});let o=0;function n(){let[e,t]=(0,r.useState)([]);return{toast:(0,r.useCallback)(({variant:e,title:a,description:r,action:n,...s})=>{let i=(o++).toString();return t(t=>[...t,{id:i,variant:e,title:a,description:r,action:n,...s}]),i},[]),dismiss:(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),update:(0,r.useCallback)((e,{variant:a,title:r,description:o,action:n,...s})=>{t(t=>t.map(t=>t.id===e?{...t,variant:a,title:r,description:o,action:n,...s}:t))},[]),toasts:e}}},3682:(e,t,a)=>{"use strict";a.d(t,{GH:()=>n,Rj:()=>o,Rw:()=>s}),a(5424);var r=a(6242),o=(0,r.$)("998298903baf9762d143374f7ecff409772b57f2"),n=(0,r.$)("9d39176c87d5a55a2a801870066abbb60034d1e9"),s=(0,r.$)("636e37b96d51317ae5b1270212bc499e1fddb28b")},445:(e,t,a)=>{"use strict";a.d(t,{I:()=>d,db:()=>l});var r=a(2585),o=a(6951),n=a(76),s=a(1552);let i=(0,r.ZF)({apiKey:"AIzaSyDBgH3vn2ec1FwRRkVIG5gAR9Jkno5VCR4",authDomain:"maintenance-flow-1c30c.firebaseapp.com",projectId:"maintenance-flow-1c30c",storageBucket:"maintenance-flow-1c30c.appspot.com",messagingSenderId:"116876204407",appId:"1:116876204407:web:7641e3dbb7a48cd69c6972"}),d=(0,o.v0)(i),l=(0,n.ad)(i);(0,s.cF)(i)},1223:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(1135),o=a(1009);function n(...e){return(0,o.m6)((0,r.W)(e))}},4845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>d});var r=a(9510),o=a(8570);let n=(0,o.createProxy)(String.raw`F:\Sooraj\Project Task\BACK up\Final working model\06-07-2025\dc\src\context\AuthContext.tsx#AuthProvider`);(0,o.createProxy)(String.raw`F:\Sooraj\Project Task\BACK up\Final working model\06-07-2025\dc\src\context\AuthContext.tsx#useAuth`);let s=(0,o.createProxy)(String.raw`F:\Sooraj\Project Task\BACK up\Final working model\06-07-2025\dc\src\components\AppHeader.tsx#default`),i=(0,o.createProxy)(String.raw`F:\Sooraj\Project Task\BACK up\Final working model\06-07-2025\dc\src\components\ui\toaster.tsx#Toaster`);a(5023);let d={title:"Maintenance Flow",description:"Complaint Management System"};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"App",children:(0,r.jsxs)(n,{children:[(0,r.jsxs)("div",{className:"App-header",children:[r.jsx("h1",{children:"Maintenance Flow"}),r.jsx(s,{})]}),r.jsx("main",{children:e}),r.jsx(i,{})]})})})}},2229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createComplaintAction:()=>p,deleteComplaintAction:()=>b,updateComplaintAction:()=>f});var r=a(7745);a(6461);var o=a(5825),n=a(6986),s=a(4964),i=a(7231);let d=(0,o.ZF)({apiKey:"AIzaSyDBgH3vn2ec1FwRRkVIG5gAR9Jkno5VCR4",authDomain:"maintenance-flow-1c30c.firebaseapp.com",projectId:"maintenance-flow-1c30c",storageBucket:"maintenance-flow-1c30c.appspot.com",messagingSenderId:"116876204407",appId:"1:116876204407:web:7641e3dbb7a48cd69c6972"});(0,n.v0)(d);let l=(0,s.ad)(d);(0,i.cF)(d);var c=a(7189),u=a(5723);let m=c.z.object({complaintId:c.z.string(),complaintDate:c.z.string(),machineName:c.z.string().min(1,"Machine name is required"),complaintDescription:c.z.string().min(1,"Description is required"),priority:c.z.enum(["Low","Medium","High"]),complaintStatus:c.z.enum(["Open","In Progress","Pending Parts","Resolved","Closed","Cancelled"]).default("Open"),actionDate:c.z.string().nullable().default(null),maintenanceRemarks:c.z.string().nullable().default(null),initialInspectionDate:c.z.string().nullable().default(null),estimatedEndDate:c.z.string().nullable().default(null),finalizationDate:c.z.string().nullable().default(null),createdBy:c.z.string().email("Valid email required"),department:c.z.string().min(1,"Department is required"),assignedTo:c.z.string().default("Person A"),materialsUsed:c.z.array(c.z.object({name:c.z.string().min(1,"Material name required"),quantity:c.z.string().min(1,"Quantity required"),remarks:c.z.string().optional()})).default([]),history:c.z.array(c.z.object({action:c.z.string(),user:c.z.string(),timestamp:c.z.string()})).default([])});async function p(e){console.log("[createComplaintAction] Called with data:",e),console.log("[createComplaintAction] createdBy:",e.createdBy);try{let t=m.parse(e);console.log("[createComplaintAction] Data validated, about to call addDoc...");let a=await (0,s.ET)((0,s.hJ)(l,"complaints"),t);return console.log("[createComplaintAction] Firestore write successful! New doc id:",a.id),{success:!0,id:a.id,message:"Complaint created successfully"}}catch(e){if(e instanceof c.z.ZodError)return console.error("[createComplaintAction] Zod validation error:",e.errors),{success:!1,message:"Validation failed",error:JSON.stringify(e.errors)};return console.error("[createComplaintAction] Firestore write failed:",e),{success:!1,message:"Failed to create complaint",error:e instanceof Error?e.stack||e.message:String(e)}}}async function f(e,t){try{console.log("[updateComplaintAction] Called with id:",e,"and data:",t);let a=m.parse(t),r=(0,s.JU)(l,"complaints",e);return await (0,s.r7)(r,a),console.log("[updateComplaintAction] Firestore update successful for id:",e),{success:!0,message:"Complaint updated successfully"}}catch(t){if(t instanceof c.z.ZodError)return console.error("[updateComplaintAction] Zod validation error:",t.errors),{success:!1,message:"Validation failed",error:JSON.stringify(t.errors)};return console.error("[updateComplaintAction] Firestore update failed for id:",e,"Error:",t),{success:!1,message:"Failed to update complaint",error:t instanceof Error?t.stack||t.message:String(t)}}}async function b(e){try{console.log("[deleteComplaintAction] Called with id:",e);let t=(0,s.JU)(l,"complaints",e);return await (0,s.oe)(t),console.log("[deleteComplaintAction] Firestore delete successful for id:",e),{success:!0,message:"Complaint deleted successfully"}}catch(t){return console.error("[deleteComplaintAction] Firestore delete failed for id:",e,"Error:",t),{success:!1,message:"Failed to delete complaint",error:t instanceof Error?t.message:String(t)}}}(0,u.h)([p,f,b]),(0,r.j)("9d39176c87d5a55a2a801870066abbb60034d1e9",p),(0,r.j)("636e37b96d51317ae5b1270212bc499e1fddb28b",f),(0,r.j)("998298903baf9762d143374f7ecff409772b57f2",b)},5023:()=>{}};